{
  "address": "0x0BE9C8A1eC1E2f1baC5Dc90bE1ab8445305DceC0",
  "abi": [
    {
      "inputs": [],
      "name": "Leaderboard__InvalidCount",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "count",
          "type": "uint256"
        }
      ],
      "name": "getTopUsers",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "",
          "type": "address[]"
        },
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "leaderboard",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "score",
          "type": "uint256"
        }
      ],
      "name": "updateScore",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "users",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "score",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "lastUpdated",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0xff98ecdbd57c87f87585df4071a967d61ee69f67a7a6047beaafe34c013a5fad",
  "receipt": {
    "to": null,
    "from": "0x2FF312a35e4bBD2158997D90CC81bC298059F2D1",
    "contractAddress": "0x0BE9C8A1eC1E2f1baC5Dc90bE1ab8445305DceC0",
    "transactionIndex": 3,
    "gasUsed": "690701",
    "logsBloom": "0x00000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000800000000000000000000100000000004000000000000000004000000000000000000000000000000080000000000000000000000000000000000200000000000000000000000080000000000000000000200000000000000000000000000000000000000000000000000000000000004000000000000000000001000000000000000000000000000000100040000000000000000000000000000000000000000000000000000000000000000000100000",
    "blockHash": "0xae74e2ce0e4c0e38a51de0000b8c2ed82487d6fbf59a2b37336ea896bd21cd48",
    "transactionHash": "0xff98ecdbd57c87f87585df4071a967d61ee69f67a7a6047beaafe34c013a5fad",
    "logs": [
      {
        "transactionIndex": 3,
        "blockNumber": 37396645,
        "transactionHash": "0xff98ecdbd57c87f87585df4071a967d61ee69f67a7a6047beaafe34c013a5fad",
        "address": "0x0000000000000000000000000000000000001010",
        "topics": [
          "0x4dfe1bbbcf077ddc3e01291eea2d5c70c2b422b415d95645b9adcfd678cb1d63",
          "0x0000000000000000000000000000000000000000000000000000000000001010",
          "0x0000000000000000000000002ff312a35e4bbd2158997d90cc81bc298059f2d1",
          "0x000000000000000000000000be188d6641e8b680743a4815dfa0f6208038960f"
        ],
        "data": "0x00000000000000000000000000000000000000000000000000062278e560a500000000000000000000000000000000000000000000000003468146a33143a9e00000000000000000000000000000000000000000000032b882ce36a1182409ad000000000000000000000000000000000000000000000003467b242a4be304e00000000000000000000000000000000000000000000032b882d45919fd84aead",
        "logIndex": 35,
        "blockHash": "0xae74e2ce0e4c0e38a51de0000b8c2ed82487d6fbf59a2b37336ea896bd21cd48"
      }
    ],
    "blockNumber": 37396645,
    "cumulativeGasUsed": "1821541",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "74ad28161c9cc9f83eb3fc3886b0ea09",
  "metadata": "{\"compiler\":{\"version\":\"0.8.18+commit.87f61d96\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"Leaderboard__InvalidCount\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"count\",\"type\":\"uint256\"}],\"name\":\"getTopUsers\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"leaderboard\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"score\",\"type\":\"uint256\"}],\"name\":\"updateScore\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"users\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"score\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastUpdated\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/Leaderboard.sol\":\"Leaderboard\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/Leaderboard.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.18;\\n\\nerror Leaderboard__InvalidCount();\\n\\n// Leader board that records user score and update ranking as well\\ncontract Leaderboard {\\n    struct User {\\n        uint256 score;\\n        uint256 lastUpdated;\\n    }\\n\\n    mapping(address => User) public users;\\n    address[] public leaderboard;\\n\\n    function updateScore(uint256 score) external {\\n        User storage user = users[msg.sender];\\n        if (user.lastUpdated == 0) {\\n            leaderboard.push(msg.sender);\\n        }\\n        user.score = score;\\n        user.lastUpdated = block.timestamp;\\n        updateLeaderboard();\\n    }\\n\\n    function updateLeaderboard() internal {\\n        uint256 n = leaderboard.length;\\n        uint256 i = n - 1;\\n        // if user A score is greater than user B then make user A position above user B\\n        // Note: as calculations are gas consumptions usually this is done on backend\\n        while (\\n            i > 0 &&\\n            users[leaderboard[i]].score > users[leaderboard[i - 1]].score\\n        ) {\\n            (leaderboard[i], leaderboard[i - 1]) = (\\n                leaderboard[i - 1],\\n                leaderboard[i]\\n            );\\n            i--;\\n        }\\n    }\\n\\n    function getTopUsers(\\n        uint256 count\\n    ) external view returns (address[] memory, uint256[] memory) {\\n        if (count < 0) {\\n            revert Leaderboard__InvalidCount();\\n        }\\n\\n        uint256 userCount = count;\\n        if (userCount > leaderboard.length) {\\n            userCount = leaderboard.length;\\n        }\\n\\n        address[] memory topUsers = new address[](userCount);\\n        uint256[] memory topScores = new uint256[](userCount);\\n\\n        for (uint256 i = 0; i < userCount; i++) {\\n            topUsers[i] = leaderboard[i];\\n            topScores[i] = users[leaderboard[i]].score;\\n        }\\n\\n        return (topUsers, topScores);\\n    }\\n}\\n\",\"keccak256\":\"0x368fc62b848bc87074aa39621824f9dc10500f82c40337106e9926b8543131a1\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b50610b91806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c8063a87430ba14610051578063bf36839914610082578063de75aa6c146100b2578063f853e34d146100e3575b600080fd5b61006b60048036038101906100669190610784565b6100ff565b6040516100799291906107ca565b60405180910390f35b61009c6004803603810190610097919061081f565b610123565b6040516100a9919061085b565b60405180910390f35b6100cc60048036038101906100c7919061081f565b610162565b6040516100da9291906109f2565b60405180910390f35b6100fd60048036038101906100f8919061081f565b6103ad565b005b60006020528060005260406000206000915090508060000154908060010154905082565b6001818154811061013357600080fd5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60608060008310156101a0576040517fd65a279b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60008390506001805490508111156101bb5760018054905090505b60008167ffffffffffffffff8111156101d7576101d6610a29565b5b6040519080825280602002602001820160405280156102055781602001602082028036833780820191505090505b50905060008267ffffffffffffffff81111561022457610223610a29565b5b6040519080825280602002602001820160405280156102525781602001602082028036833780820191505090505b50905060005b8381101561039e576001818154811061027457610273610a58565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168382815181106102b2576102b1610a58565b5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250506000806001838154811061030357610302610a58565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000015482828151811061037f5761037e610a58565b5b602002602001018181525050808061039690610ab6565b915050610258565b50818194509450505050915091565b60008060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000209050600081600101540361045f576001339080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b81816000018190555042816001018190555061047961047d565b5050565b6000600180549050905060006001826104969190610afe565b90505b6000811180156105b15750600080600180846104b59190610afe565b815481106104c6576104c5610a58565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001546000806001848154811061054657610545610a58565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000154115b1561071d57600180826105c49190610afe565b815481106105d5576105d4610a58565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166001828154811061061457610613610a58565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166001838154811061065357610652610a58565b5b9060005260206000200160006001808661066d9190610afe565b8154811061067e5761067d610a58565b5b9060005260206000200160008491906101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508391906101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050808061071590610b32565b915050610499565b5050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061075182610726565b9050919050565b61076181610746565b811461076c57600080fd5b50565b60008135905061077e81610758565b92915050565b60006020828403121561079a57610799610721565b5b60006107a88482850161076f565b91505092915050565b6000819050919050565b6107c4816107b1565b82525050565b60006040820190506107df60008301856107bb565b6107ec60208301846107bb565b9392505050565b6107fc816107b1565b811461080757600080fd5b50565b600081359050610819816107f3565b92915050565b60006020828403121561083557610834610721565b5b60006108438482850161080a565b91505092915050565b61085581610746565b82525050565b6000602082019050610870600083018461084c565b92915050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6108ab81610746565b82525050565b60006108bd83836108a2565b60208301905092915050565b6000602082019050919050565b60006108e182610876565b6108eb8185610881565b93506108f683610892565b8060005b8381101561092757815161090e88826108b1565b9750610919836108c9565b9250506001810190506108fa565b5085935050505092915050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b610969816107b1565b82525050565b600061097b8383610960565b60208301905092915050565b6000602082019050919050565b600061099f82610934565b6109a9818561093f565b93506109b483610950565b8060005b838110156109e55781516109cc888261096f565b97506109d783610987565b9250506001810190506109b8565b5085935050505092915050565b60006040820190508181036000830152610a0c81856108d6565b90508181036020830152610a208184610994565b90509392505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610ac1826107b1565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610af357610af2610a87565b5b600182019050919050565b6000610b09826107b1565b9150610b14836107b1565b9250828203905081811115610b2c57610b2b610a87565b5b92915050565b6000610b3d826107b1565b915060008203610b5057610b4f610a87565b5b60018203905091905056fea2646970667358221220c033e4066f3219d1aafe0b9fbcdf41056fdb8b73ebaf27780a52a4dfbbd453a764736f6c63430008120033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061004c5760003560e01c8063a87430ba14610051578063bf36839914610082578063de75aa6c146100b2578063f853e34d146100e3575b600080fd5b61006b60048036038101906100669190610784565b6100ff565b6040516100799291906107ca565b60405180910390f35b61009c6004803603810190610097919061081f565b610123565b6040516100a9919061085b565b60405180910390f35b6100cc60048036038101906100c7919061081f565b610162565b6040516100da9291906109f2565b60405180910390f35b6100fd60048036038101906100f8919061081f565b6103ad565b005b60006020528060005260406000206000915090508060000154908060010154905082565b6001818154811061013357600080fd5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60608060008310156101a0576040517fd65a279b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60008390506001805490508111156101bb5760018054905090505b60008167ffffffffffffffff8111156101d7576101d6610a29565b5b6040519080825280602002602001820160405280156102055781602001602082028036833780820191505090505b50905060008267ffffffffffffffff81111561022457610223610a29565b5b6040519080825280602002602001820160405280156102525781602001602082028036833780820191505090505b50905060005b8381101561039e576001818154811061027457610273610a58565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168382815181106102b2576102b1610a58565b5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250506000806001838154811061030357610302610a58565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000015482828151811061037f5761037e610a58565b5b602002602001018181525050808061039690610ab6565b915050610258565b50818194509450505050915091565b60008060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000209050600081600101540361045f576001339080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b81816000018190555042816001018190555061047961047d565b5050565b6000600180549050905060006001826104969190610afe565b90505b6000811180156105b15750600080600180846104b59190610afe565b815481106104c6576104c5610a58565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001546000806001848154811061054657610545610a58565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000154115b1561071d57600180826105c49190610afe565b815481106105d5576105d4610a58565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166001828154811061061457610613610a58565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166001838154811061065357610652610a58565b5b9060005260206000200160006001808661066d9190610afe565b8154811061067e5761067d610a58565b5b9060005260206000200160008491906101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508391906101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050808061071590610b32565b915050610499565b5050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061075182610726565b9050919050565b61076181610746565b811461076c57600080fd5b50565b60008135905061077e81610758565b92915050565b60006020828403121561079a57610799610721565b5b60006107a88482850161076f565b91505092915050565b6000819050919050565b6107c4816107b1565b82525050565b60006040820190506107df60008301856107bb565b6107ec60208301846107bb565b9392505050565b6107fc816107b1565b811461080757600080fd5b50565b600081359050610819816107f3565b92915050565b60006020828403121561083557610834610721565b5b60006108438482850161080a565b91505092915050565b61085581610746565b82525050565b6000602082019050610870600083018461084c565b92915050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6108ab81610746565b82525050565b60006108bd83836108a2565b60208301905092915050565b6000602082019050919050565b60006108e182610876565b6108eb8185610881565b93506108f683610892565b8060005b8381101561092757815161090e88826108b1565b9750610919836108c9565b9250506001810190506108fa565b5085935050505092915050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b610969816107b1565b82525050565b600061097b8383610960565b60208301905092915050565b6000602082019050919050565b600061099f82610934565b6109a9818561093f565b93506109b483610950565b8060005b838110156109e55781516109cc888261096f565b97506109d783610987565b9250506001810190506109b8565b5085935050505092915050565b60006040820190508181036000830152610a0c81856108d6565b90508181036020830152610a208184610994565b90509392505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610ac1826107b1565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610af357610af2610a87565b5b600182019050919050565b6000610b09826107b1565b9150610b14836107b1565b9250828203905081811115610b2c57610b2b610a87565b5b92915050565b6000610b3d826107b1565b915060008203610b5057610b4f610a87565b5b60018203905091905056fea2646970667358221220c033e4066f3219d1aafe0b9fbcdf41056fdb8b73ebaf27780a52a4dfbbd453a764736f6c63430008120033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 2689,
        "contract": "contracts/Leaderboard.sol:Leaderboard",
        "label": "users",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_address,t_struct(User)2684_storage)"
      },
      {
        "astId": 2692,
        "contract": "contracts/Leaderboard.sol:Leaderboard",
        "label": "leaderboard",
        "offset": 0,
        "slot": "1",
        "type": "t_array(t_address)dyn_storage"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_address)dyn_storage": {
        "base": "t_address",
        "encoding": "dynamic_array",
        "label": "address[]",
        "numberOfBytes": "32"
      },
      "t_mapping(t_address,t_struct(User)2684_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => struct Leaderboard.User)",
        "numberOfBytes": "32",
        "value": "t_struct(User)2684_storage"
      },
      "t_struct(User)2684_storage": {
        "encoding": "inplace",
        "label": "struct Leaderboard.User",
        "members": [
          {
            "astId": 2681,
            "contract": "contracts/Leaderboard.sol:Leaderboard",
            "label": "score",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 2683,
            "contract": "contracts/Leaderboard.sol:Leaderboard",
            "label": "lastUpdated",
            "offset": 0,
            "slot": "1",
            "type": "t_uint256"
          }
        ],
        "numberOfBytes": "64"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}